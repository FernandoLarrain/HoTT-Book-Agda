{-# OPTIONS --without-K --exact-split --safe #-}

open import Ch1.Type-theory
open import Ch2.Homotopy-type-theory
open import Ch3.Sets-and-logic

module Ch4.9-Univalence-implies-funext where


-- Definition 4.9.1 (The weak function extensionality principle).

weak-funext : (A : ğ“¤ Ì‡) â†’ (A â†’ ğ“¥ Ì‡) â†’ ğ“¤ âŠ” ğ“¥ Ì‡
weak-funext A P = Î  (isContr âˆ˜ P) â†’ isContr (Î  P)


-- -- Lemma 4.9.2 (â†’-preserves-codom-â‰ƒ is proved in exercise 2.17 using function extensionality).

-- â†’-preserves-codom-â‰ƒ' : {ğ“¤ : Universe} â†’ is-univalent ğ“¤ â†’ (X A B : ğ“¤ Ì‡) (e : A â‰ƒ B) â†’ isequiv {ğ“¤} {ğ“¤} {X â†’ A} {X â†’ B} (prâ‚ e âˆ˜_) 
-- â†’-preserves-codom-â‰ƒ' {ğ“¤} univ X A B e = transport (Î» - â†’ isequiv (- âˆ˜_)) {!!} (lemma (prâ‚ univ e)) where
--   lemma : {A B : ğ“¤ Ì‡} (p : A â‰¡ B) â†’ isequiv {ğ“¤} {ğ“¤} {X â†’ A} {X â†’ B} (prâ‚ (idtoeqv p) âˆ˜_)
--   lemma (refl _) = qinv-to-isequiv (qinv-ğ‘–ğ‘‘ _)

-- -- â„ A (Î» B p â†’ (X â†’ A) â‰ƒ (X â†’ B)) (id , qinv-to-isequiv (qinv-ğ‘–ğ‘‘ _)) B (prâ‚ univ e)


