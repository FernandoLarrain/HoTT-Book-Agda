{-# OPTIONS --without-K --exact-split --rewriting #-}

open import Ch1.Type-theory
open import Ch2.Homotopy-type-theory
open import Ch3.Sets-and-logic
open import Ch4.Equivalences

module Ch6.6-Cell-complexes where

-- The Torus, TÂ².

postulate

  -- (i) Type formation rule

    TÂ² : ğ“¤â‚€ Ì‡

  -- (ii) Constructors
  
  b : TÂ²
  p q : b â‰¡ b
  

-- module _ (P : ğ•ŠÂ² â†’ ğ“¤ Ì‡) (b : P baseâ‚‚) (s : refl b â‰¡ refl b [ P â‡Š surf ]) where

--   postulate

--     -- (iii) Induction principle

--     ğ•ŠÂ²-ind : Î  P
  
--     -- (iv) Computation rules

--     baseâ‚‚-Î² : ğ•ŠÂ²-ind baseâ‚‚ â†¦ b

--     {-# REWRITE baseâ‚‚-Î² #-}

--     surf-Î² : apdÂ² ğ•ŠÂ²-ind surf â‰¡ s

-- module _ {B : ğ“¤ Ì‡} (b : B) (s : refl b â‰¡ refl b) where

--   -- (v) Recursion principle
  
--   ğ•ŠÂ²-rec : ğ•ŠÂ² â†’ B
--   ğ•ŠÂ²-rec = ğ•ŠÂ²-ind (Î» x â†’ B) b (s âˆ™ (transportÂ²const B surf b â»Â¹ âˆ™ ru _))

--   -- (vi) Computation rules
  
--   baseâ‚‚-Î²' : ğ•ŠÂ²-rec baseâ‚‚ â‰¡ b
--   baseâ‚‚-Î²' = refl _

--   surf-Î²' : apÂ² ğ•ŠÂ²-rec surf â‰¡ s
--   surf-Î²' =  ru _ âˆ™ lu _ âˆ™ ru _ âˆ™ lu _ âˆ™ ru _ âˆ™ âˆ™áµ£-inv _ _ _ (ap (Î» - â†’ refl (refl (ğ•ŠÂ²-rec baseâ‚‚)) âˆ™ (refl (refl (ğ•ŠÂ²-rec baseâ‚‚)) âˆ™ (apÂ² ğ•ŠÂ²-rec surf âˆ™ refl (refl (ğ•ŠÂ²-rec baseâ‚‚))) âˆ™ refl (refl (ğ•ŠÂ²-rec baseâ‚‚))) âˆ™ refl (refl (ğ•ŠÂ²-rec baseâ‚‚)) âˆ™ (- âˆ™ ru (transportÂ² (Î» a â†’ B) surf (ğ•ŠÂ²-rec baseâ‚‚)))) (lu (transportÂ²const B surf (ğ•ŠÂ²-rec baseâ‚‚) â»Â¹)) âˆ™ (apdÂ²-const B ğ•ŠÂ²-rec surf â»Â¹ âˆ™ surf-Î² (Î» x â†’ B) b (s âˆ™ (transportÂ²const B surf b â»Â¹ âˆ™ ru _))))
